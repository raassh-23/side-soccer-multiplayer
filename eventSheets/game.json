{
	"name": "Game",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "isdown0",
					"objectClass": "InputManager",
					"sid": 127672842991733,
					"parameters": {
						"input0": "MOVE_LEFT"
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Player",
					"sid": 667328626740938,
					"behaviorType": "Platform",
					"parameters": {
						"control": "left"
					}
				}
			],
			"sid": 505122752673959
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "isdown0",
					"objectClass": "InputManager",
					"sid": 693293952090934,
					"parameters": {
						"input0": "MOVE_RIGHT"
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Player",
					"sid": 477002827253118,
					"behaviorType": "Platform",
					"parameters": {
						"control": "right"
					}
				}
			],
			"sid": 455959086886622
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "ondown1",
					"objectClass": "InputManager",
					"sid": 233308563986985,
					"parameters": {
						"input0": "JUMP"
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Player",
					"sid": 228658121022483,
					"behaviorType": "Platform",
					"parameters": {
						"control": "jump"
					}
				}
			],
			"sid": 583973034391517
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Keyboard Input",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 937834703153259,
							"parameters": {
								"key": 65
							}
						},
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 410436565661993,
							"parameters": {
								"key": 37
							}
						}
					],
					"actions": [
						{
							"id": "setdown6",
							"objectClass": "InputManager",
							"sid": 915837852371405,
							"parameters": {
								"input0": "MOVE_LEFT"
							}
						}
					],
					"sid": 553703821078940,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 865061907314651,
							"parameters": {
								"key": 65
							}
						},
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 838347948158018,
							"parameters": {
								"key": 37
							}
						}
					],
					"actions": [
						{
							"id": "setup5",
							"objectClass": "InputManager",
							"sid": 165111211162524,
							"parameters": {
								"input0": "MOVE_LEFT"
							}
						}
					],
					"sid": 972321876000425,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 529035744700043,
							"parameters": {
								"key": 68
							}
						},
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 183780007192595,
							"parameters": {
								"key": 39
							}
						}
					],
					"actions": [
						{
							"id": "setdown6",
							"objectClass": "InputManager",
							"sid": 323163538178171,
							"parameters": {
								"input0": "MOVE_RIGHT"
							}
						}
					],
					"sid": 312841584884252,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 201758893083994,
							"parameters": {
								"key": 68
							}
						},
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 488946664514796,
							"parameters": {
								"key": 39
							}
						}
					],
					"actions": [
						{
							"id": "setup5",
							"objectClass": "InputManager",
							"sid": 710872779177110,
							"parameters": {
								"input0": "MOVE_RIGHT"
							}
						}
					],
					"sid": 636285683604227,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 109318237053165,
							"parameters": {
								"key": 87
							}
						},
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 792469351236649,
							"parameters": {
								"key": 38
							}
						}
					],
					"actions": [
						{
							"id": "setdown6",
							"objectClass": "InputManager",
							"sid": 599120784150687,
							"parameters": {
								"input0": "JUMP"
							}
						}
					],
					"sid": 486945286570703,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 143158756011901,
							"parameters": {
								"key": 87
							}
						},
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 691928695265240,
							"parameters": {
								"key": 38
							}
						}
					],
					"actions": [
						{
							"id": "setup5",
							"objectClass": "InputManager",
							"sid": 835071462660507,
							"parameters": {
								"input0": "JUMP"
							}
						}
					],
					"sid": 265465461323756,
					"isOrBlock": true
				}
			],
			"sid": 657433841182705
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "FollowedPlayerUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 501988516910714
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 586594922479391
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "Camera",
							"sid": 122798552288803,
							"parameters": {
								"x": "LayoutWidth/2",
								"y": "LayoutHeight/2"
							}
						}
					],
					"sid": 987427475289408
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 665214469925059,
							"parameters": {
								"variable": "FollowedPlayerUID",
								"comparison": 5,
								"value": "0"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 189123029578692,
							"parameters": {
								"object": "Player",
								"expression": "Player.UID",
								"comparison": 0,
								"value": "FollowedPlayerUID"
							}
						}
					],
					"actions": [
						{
							"id": "tween-two-properties",
							"objectClass": "Camera",
							"sid": 429532229605487,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "MOVE_CAMERA",
								"property": "position",
								"end-x": "Player.X",
								"end-y": "Player.Y",
								"time": "0.05",
								"ease": "easeinsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 759630009878545
				},
				{
					"functionName": "setFollowedPlayer",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 883766702424992
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 432589099394456,
							"parameters": {
								"variable": "FollowedPlayerUID",
								"value": "uid"
							}
						}
					],
					"sid": 630908294658674
				}
			],
			"sid": 363457410791867
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving",
							"objectClass": "Player",
							"sid": 575795482394370,
							"behaviorType": "Platform"
						}
					],
					"actions": [],
					"sid": 467508203582250,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 394051153813738,
									"parameters": {
										"first-value": "Player.Platform.VectorX",
										"comparison": 4,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 957018501857202,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 332676257120659
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 641003867402034,
									"parameters": {
										"first-value": "Player.Platform.VectorX",
										"comparison": 2,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 349083228041972,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 111374508913661
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 307947735381321
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 575335072560961,
							"parameters": {
								"instance-variable": "ActorNr",
								"comparison": 0,
								"value": "Photon.MyActorNr"
							}
						}
					],
					"actions": [
						{
							"id": "raiseevent17",
							"objectClass": "Photon",
							"sid": 643552566417349,
							"parameters": {
								"code0": "SET_POSITION_EVENT",
								"data1": "Player.X & \";\" & Player.Y & (Player.Width > 0 ? \";0\" : \";1\")",
								"interestgroup2": "0",
								"cache11": "donotcache",
								"receivers15": "others",
								"targetactors16": "\"\"",
								"webforward19": "no"
							}
						}
					],
					"sid": 954845248410397
				}
			],
			"sid": 804186949797764
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Multiplayer",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "playerCount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 311754844199261
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 118117570373378
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Player",
							"sid": 869604791827098
						},
						{
							"id": "connect10",
							"objectClass": "Photon",
							"sid": 277634057452926
						}
					],
					"sid": 718789737436587
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onjoinedlobby22",
							"objectClass": "Photon",
							"sid": 230822186521557
						}
					],
					"actions": [
						{
							"id": "joinrandomroom13",
							"objectClass": "Photon",
							"sid": 773931115757437,
							"parameters": {
								"matchmyroom2": "no",
								"matchmakingmode6": "fillroom",
								"lobbyname7": "LOBBY_NAME",
								"lobbytype10": "default",
								"sqllobbyfilter11": "\"\""
							}
						}
					],
					"sid": 397765756300007
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onjoinrandomroomnomatchfound23",
							"objectClass": "Photon",
							"sid": 250009516765886
						}
					],
					"actions": [
						{
							"id": "setmyroommaxplayers107",
							"objectClass": "Photon",
							"sid": 746949068472966,
							"parameters": {
								"maxplayers0": "2"
							}
						},
						{
							"id": "createroom11",
							"objectClass": "Photon",
							"sid": 991484514760506,
							"parameters": {
								"room0": "Functions.generateRoomName(8)",
								"lobbyname1": "LOBBY_NAME",
								"lobbytype4": "default"
							}
						}
					],
					"sid": 914609977329409
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onjoinroom14",
							"objectClass": "Photon",
							"sid": 897723932485264
						}
					],
					"actions": [
						{
							"id": "raiseevent17",
							"objectClass": "Photon",
							"sid": 771747469221570,
							"parameters": {
								"code0": "JOIN_EVENT",
								"data1": "0",
								"interestgroup2": "0",
								"cache11": "addtoroomcache",
								"receivers15": "all",
								"targetactors16": "\"\"",
								"webforward19": "no"
							}
						}
					],
					"sid": 621306925081992,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "SpriteFont",
									"sid": 978313543079380,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SpriteFont",
									"sid": 504604136722721,
									"parameters": {
										"text": "\"Waiting player\""
									}
								}
							],
							"sid": 951657119831264
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onerror0",
							"objectClass": "Photon",
							"sid": 325712660995979
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 527527992054367,
							"parameters": {
								"layout": "Menu"
							}
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 165286880147142,
							"parameters": {
								"type": "log",
								"message": "\"Join Error \" & Photon.ErrorMessage"
							}
						}
					],
					"sid": 904914572247661
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onevent3",
							"objectClass": "Photon",
							"sid": 330745847641091,
							"parameters": {
								"code0": "JOIN_EVENT"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "PlayerSpawn",
							"sid": 405626699820144,
							"parameters": {
								"instance-variable": "playerIndex",
								"comparison": 0,
								"value": "playerCount"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerSpawn",
							"sid": 811445703918012,
							"parameters": {
								"object": "Player",
								"layer": "0",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 377911846220815,
							"parameters": {
								"instance-variable": "ActorNr",
								"value": "Photon.ActorNr"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 449386054462539,
							"parameters": {
								"animation": "\"Player\"&playerCount+1",
								"from": "beginning"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 929389218197703,
							"parameters": {
								"variable": "playerCount",
								"value": "1"
							}
						}
					],
					"sid": 494860689657418,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 892179295657961,
									"parameters": {
										"variable": "playerCount",
										"comparison": 5,
										"value": "2"
									}
								}
							],
							"actions": [
								{
									"callFunction": "startGame",
									"sid": 827772291120727
								}
							],
							"sid": 521276722833395
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onevent3",
							"objectClass": "Photon",
							"sid": 191202700744834,
							"parameters": {
								"code0": "SET_POSITION_EVENT"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 189885122156899,
							"parameters": {
								"instance-variable": "ActorNr",
								"comparison": 0,
								"value": "Photon.ActorNr"
							}
						}
					],
					"actions": [
						{
							"id": "tween-two-properties",
							"objectClass": "Player",
							"sid": 516266168731572,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "MOVE_PLAYER",
								"property": "position",
								"end-x": "int(tokenat(Photon.EventData, 0, \";\"))",
								"end-y": "int(tokenat(Photon.EventData, 1, \";\"))",
								"time": "0.05",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 503295680236181,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 119762727535666,
									"parameters": {
										"value": "int(tokenat(Photon.EventData, 2, \";\"))"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 838254363166784,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 237039804855273
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 958617050369100
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "Player",
									"sid": 426616917722831,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 393168882529186
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onactorleave16",
							"objectClass": "Photon",
							"sid": 644972196349628
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 918691237500614,
							"parameters": {
								"instance-variable": "ActorNr",
								"comparison": 0,
								"value": "Photon.MyActorNr"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Player",
							"sid": 922688025512155
						}
					],
					"sid": 776560653133113
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "SpriteFont",
							"sid": 842196663178036,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 773816455293741,
							"parameters": {
								"text": "Photon.MyRoomName"
							}
						}
					],
					"sid": 934717320145466
				},
				{
					"functionName": "generateRoomName",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "string",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "length",
							"type": "number",
							"initialValue": "8",
							"comment": "",
							"sid": 851501860600863
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "runtime.setReturnValue(generateRandomName(localVars.length))"
						}
					],
					"sid": 627842905611567
				},
				{
					"functionName": "startGame",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "SpriteFont",
							"sid": 460208313808924,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 115342169358636,
							"parameters": {
								"text": "\"Starting in 3\""
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 392970302947959,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 382019475851562,
							"parameters": {
								"text": "\"Starting in 2\""
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 616772194916667,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"id": "set-text",
							"objectClass": "SpriteFont",
							"sid": 286924904855326,
							"parameters": {
								"text": "\"Starting in 1\""
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 544276244058108,
							"parameters": {
								"seconds": "1.0"
							}
						}
					],
					"sid": 109595062439427,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 337740065924382,
									"parameters": {
										"instance-variable": "ActorNr",
										"comparison": 0,
										"value": "Photon.MyActorNr"
									}
								}
							],
							"actions": [
								{
									"callFunction": "setFollowedPlayer",
									"sid": 522667467542747,
									"parameters": [
										"Player.UID"
									]
								},
								{
									"id": "set-enabled",
									"objectClass": "Player",
									"sid": 113747710863824,
									"behaviorType": "Platform",
									"parameters": {
										"state": "enabled"
									}
								}
							],
							"sid": 122485843924225
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SpriteFont",
									"sid": 233712429217259,
									"parameters": {
										"text": "\"Start\""
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 878684347159255,
									"parameters": {
										"seconds": "1.0"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "SpriteFont",
									"sid": 822241889778157,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 581894687393230
						}
					]
				}
			],
			"sid": 942916712965782
		}
	],
	"sid": 219985874213153
}